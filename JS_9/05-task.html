<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 05</title>
</head>

<body>
    <script>
        /*
        Задание:
        Напишите сценарии "Игра 'Угадай число'". Суть игры - угадать за меньшее количество попыток число, которое загадал сценарий.
        Каждый раз, когда игрок пытается угадать число, сценарий выводит подсказку - меньшее или большее число было загадано сценарием.
        Сценарий загадывает число только один раз в начале игры и это число не меняется до завершения игры.
        При завершении игры выведите пользователю информацию о том, с какой попытки угадано значение и сколько было потрачено на это времени.

        Для генерации случайного числа используйте следующий код:
        let randomValue = Math.floor(Math.random() * 101); // случайное значение от 0 до 100 будет записано в переменную randomValue
        
        Пример игры:
        Сценарий: я загадал случайное значение от 0 до 100
        Пользователь: 50
        Сценарий: я загадал значение больше, чем 50
        Пользователь: 75
        Сценарий: я загадал значение меньше, чем 75
        Пользователь: 62
        Сценарий: я загадал значение меньше, чем 62
        Пользователь: 56
        Сценарий: Правильно! Загаданное значение 56. Вы угадали с 4й попытки за 10 сек.
        */

        // let randomValue = Math.floor(Math.random() * 101);
        // let time = 0;
        // let interval_id = setInterval( function() {time = time + 1; 
        //     console.log(time);
        //     if(time === 6){
        //     console.log('stop');
        //     clearInterval(interval_id);
        // }
        //   }, 1000);
      
        






      
        
        let randomValue = 3;
        let count = 1;
        var time = 0;
       ;

        alert('Сценарий: я загадал случайное значение от 0 до 100', 0);
        game();
        
       
       
        function game(){
            // let interval_id = setInterval(function (){
            //     time =  ++time;
            //     console.log(time);
               
            //     if(end){
            //         alert(`Сценарий: Правильно! Загаданное значение ${randomValue}. Вы угадали с ${count}-й попытки за ${time} сек.`, 0);
            //         end = false;
            //         clearInterval(interval_id);
            //         return;
            //     }
            
            // }, 1000);
            const start = new Date().getTime();
            while(true){
                let user_val = +prompt('Пользователь: ');
                if(user_val < randomValue){
                    alert(`Сценарий: я загадал значение больше, чем ${user_val}`, 0);
                    count++;
                    continue;
                }
                if(user_val > randomValue){
                    alert(`Сценарий: я загадал значение меньше, чем ${user_val}`, 0);
                    count++;
                    continue;
                }
                if(user_val == randomValue){
                    const end = new Date().getTime();
                    alert(`Сценарий: Правильно! Загаданное значение ${randomValue}. Вы угадали с ${count}-й попытки за ${(end-start)/1000} сек.`, 0);
                    break;
                }
            }
        }




    //    function game(){
    //     while(true){
    //         let interval_id = setInterval(function () {time = time + 1}, 1000);
    //         let user_val = +prompt('Пользователь: ');
    //         if(user_val < randomValue){
    //             alert(`Сценарий: я загадал значение больше, чем ${user_val}`, 0);
    //             count++;
    //             continue;
    //         }
    //         if(user_val > randomValue){
    //             alert(`Сценарий: я загадал значение меньше, чем ${user_val}`, 0);
    //             count++;
    //             continue;
    //         }
    //         if(user_val == randomValue){
    //             clearInterval(interval_id);
    //             alert(`Сценарий: Правильно! Загаданное значение 56. Вы угадали с ${count}-й попытки за ${time} сек.`, 0);
    //             break;
    //         }
    //     }
    //    }
    </script>
</body>

</html>